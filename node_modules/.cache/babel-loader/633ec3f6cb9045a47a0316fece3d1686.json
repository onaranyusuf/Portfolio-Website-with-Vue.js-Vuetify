{"ast":null,"code":"import { mergeProps as _mergeProps, createVNode as _createVNode } from \"vue\"; // Styles\n\nimport \"./VTab.css\"; // Components\n\nimport { VBtn } from \"../VBtn/index.mjs\"; // Composables\n\nimport { IconValue } from \"../../composables/icons.mjs\";\nimport { makeGroupItemProps } from \"../../composables/group.mjs\";\nimport { makeRouterProps } from \"../../composables/router.mjs\";\nimport { makeTagProps } from \"../../composables/tag.mjs\";\nimport { makeThemeProps } from \"../../composables/theme.mjs\";\nimport { useTextColor } from \"../../composables/color.mjs\"; // Utilities\n\nimport { computed, ref } from 'vue';\nimport { defineComponent, pick, standardEasing, useRender } from \"../../util/index.mjs\"; // Types\n\nimport { VTabsSymbol } from \"./shared.mjs\";\nexport const VTab = defineComponent({\n  name: 'VTab',\n  props: {\n    fixed: Boolean,\n    icon: [Boolean, String, Function, Object],\n    prependIcon: IconValue,\n    appendIcon: IconValue,\n    stacked: Boolean,\n    title: String,\n    ripple: {\n      type: Boolean,\n      default: true\n    },\n    color: String,\n    sliderColor: String,\n    hideSlider: Boolean,\n    direction: {\n      type: String,\n      default: 'horizontal'\n    },\n    ...makeTagProps(),\n    ...makeRouterProps(),\n    ...makeGroupItemProps({\n      selectedClass: 'v-tab--selected'\n    }),\n    ...makeThemeProps()\n  },\n\n  setup(props, _ref) {\n    let {\n      slots,\n      attrs\n    } = _ref;\n    const {\n      textColorClasses: sliderColorClasses,\n      textColorStyles: sliderColorStyles\n    } = useTextColor(props, 'sliderColor');\n    const isHorizontal = computed(() => props.direction === 'horizontal');\n    const isSelected = ref(false);\n    const rootEl = ref();\n    const sliderEl = ref();\n\n    function updateSlider(_ref2) {\n      let {\n        value\n      } = _ref2;\n      isSelected.value = value;\n\n      if (value) {\n        var _rootEl$value, _rootEl$value$$el$par;\n\n        const prevEl = (_rootEl$value = rootEl.value) == null ? void 0 : (_rootEl$value$$el$par = _rootEl$value.$el.parentElement) == null ? void 0 : _rootEl$value$$el$par.querySelector('.v-tab--selected .v-tab__slider');\n        const nextEl = sliderEl.value;\n        if (!prevEl || !nextEl) return;\n        const color = getComputedStyle(prevEl).color;\n        const prevBox = prevEl.getBoundingClientRect();\n        const nextBox = nextEl.getBoundingClientRect();\n        const xy = isHorizontal.value ? 'x' : 'y';\n        const XY = isHorizontal.value ? 'X' : 'Y';\n        const rightBottom = isHorizontal.value ? 'right' : 'bottom';\n        const widthHeight = isHorizontal.value ? 'width' : 'height';\n        const prevPos = prevBox[xy];\n        const nextPos = nextBox[xy];\n        const delta = prevPos > nextPos ? prevBox[rightBottom] - nextBox[rightBottom] : prevBox[xy] - nextBox[xy];\n        const origin = Math.sign(delta) > 0 ? isHorizontal.value ? 'right' : 'bottom' : Math.sign(delta) < 0 ? isHorizontal.value ? 'left' : 'top' : 'center';\n        const size = Math.abs(delta) + (Math.sign(delta) < 0 ? prevBox[widthHeight] : nextBox[widthHeight]);\n        const scale = size / Math.max(prevBox[widthHeight], nextBox[widthHeight]);\n        const initialScale = prevBox[widthHeight] / nextBox[widthHeight];\n        const sigma = 1.5;\n        nextEl.animate({\n          backgroundColor: [color, ''],\n          transform: [`translate${XY}(${delta}px) scale${XY}(${initialScale})`, `translate${XY}(${delta / sigma}px) scale${XY}(${(scale - 1) / sigma + 1})`, ''],\n          transformOrigin: Array(3).fill(origin)\n        }, {\n          duration: 225,\n          easing: standardEasing\n        });\n      }\n    }\n\n    useRender(() => {\n      const [btnProps] = pick(props, ['href', 'to', 'replace', 'icon', 'stacked', 'prependIcon', 'appendIcon', 'ripple', 'theme', 'disabled', 'selectedClass', 'value', 'color']);\n      return _createVNode(VBtn, _mergeProps({\n        \"_as\": \"VTab\",\n        \"symbol\": VTabsSymbol,\n        \"ref\": rootEl,\n        \"class\": ['v-tab'],\n        \"tabindex\": isSelected.value ? 0 : -1,\n        \"role\": \"tab\",\n        \"aria-selected\": String(isSelected.value),\n        \"block\": props.fixed,\n        \"maxWidth\": props.fixed ? 300 : undefined,\n        \"variant\": \"text\",\n        \"rounded\": 0\n      }, btnProps, attrs, {\n        \"onGroup:selected\": updateSlider\n      }), {\n        default: () => [slots.default ? slots.default() : props.title, !props.hideSlider && _createVNode(\"div\", {\n          \"ref\": sliderEl,\n          \"class\": ['v-tab__slider', sliderColorClasses.value],\n          \"style\": sliderColorStyles.value\n        }, null)]\n      });\n    });\n    return {};\n  }\n\n});","map":{"version":3,"mappings":"8EAAA;;AACA,oB,CAEA;;SACSA,Y,qBAET;;SACSC,iB;SACAC,0B;SACAC,uB;SACAC,oB;SACAC,sB;SACAC,oB,+BAET;;AACA,SAASC,QAAT,EAAmBC,GAAnB,QAA8B,KAA9B;SACSC,iBAAiBC,MAAMC,gBAAgBC,iB,wBAEhD;;SACSC,mB;AAGT,OAAO,MAAMC,IAAI,GAAGL,eAAe,CAAC;EAClCM,IAAI,EAAE,MAD4B;EAGlCC,KAAK,EAAE;IACLC,KAAK,EAAEC,OADF;IAELC,IAAI,EAAE,CAACD,OAAD,EAAUE,MAAV,EAAkBC,QAAlB,EAA4BC,MAA5B,CAFD;IAGLC,WAAW,EAAEtB,SAHR;IAILuB,UAAU,EAAEvB,SAJP;IAMLwB,OAAO,EAAEP,OANJ;IAOLQ,KAAK,EAAEN,MAPF;IASLO,MAAM,EAAE;MACNC,IAAI,EAAEV,OADA;MAENW,OAAO,EAAE;IAFH,CATH;IAaLC,KAAK,EAAEV,MAbF;IAcLW,WAAW,EAAEX,MAdR;IAeLY,UAAU,EAAEd,OAfP;IAiBLe,SAAS,EAAE;MACTL,IAAI,EAAER,MADG;MAETS,OAAO,EAAE;IAFA,CAjBN;IAsBL,GAAGzB,YAAY,EAtBV;IAuBL,GAAGD,eAAe,EAvBb;IAwBL,GAAGD,kBAAkB,CAAC;MACpBgC,aAAa,EAAE;IADK,CAAD,CAxBhB;IA2BL,GAAG7B,cAAc;EA3BZ,CAH2B;;EAiClC8B,KAAK,CAAEnB,KAAF,QAA2B;IAAA,IAAlB;MAAEoB,KAAF;MAASC;IAAT,IAAkBC;IAC9B,MAAM;MAAEC,gBAAgB,EAAEC,kBAApB;MAAwCC,eAAe,EAAEC;IAAzD,IAA+EpC,YAAY,CAACU,KAAD,EAAQ,aAAR,CAAjG;IACA,MAAM2B,YAAY,GAAGpC,QAAQ,CAAC,MAAMS,KAAK,CAACiB,SAANjB,KAAoB,YAA3B,CAA7B;IACA,MAAM4B,UAAU,GAAGpC,GAAG,CAAC,KAAD,CAAtB;IAEA,MAAMqC,MAAM,GAAGrC,GAAG,EAAlB;IACA,MAAMsC,QAAQ,GAAGtC,GAAG,EAApB;;IAEA,SAASuC,YAAT,QAAsD;MAAA,IAA/B;QAAEC;MAAF,IAA+BC;MACpDL,UAAU,CAACI,KAAXJ,GAAmBI,KAAnBJ;;MAEA,IAAII,KAAJ,EAAW;QAAA;;QACT,MAAME,MAA+B,oBAAGL,MAAM,CAACG,KAAV,8CAAGG,cAAcC,GAAd,CAAkBC,aAArB,qBAAGC,sBAAiCC,aAAjC,CAA+C,iCAA/C,CAAxC;QACA,MAAMC,MAAM,GAAGV,QAAQ,CAACE,KAAxB;QAEA,IAAI,CAACE,MAAD,IAAW,CAACM,MAAhB,EAAwB;QAExB,MAAM1B,KAAK,GAAG2B,gBAAgB,CAACP,MAAD,CAAhBO,CAAyB3B,KAAvC;QAEA,MAAM4B,OAAO,GAAGR,MAAM,CAACS,qBAAPT,EAAhB;QACA,MAAMU,OAAO,GAAGJ,MAAM,CAACG,qBAAPH,EAAhB;QAEA,MAAMK,EAAE,GAAGlB,YAAY,CAACK,KAAbL,GAAqB,GAArBA,GAA2B,GAAtC;QACA,MAAMmB,EAAE,GAAGnB,YAAY,CAACK,KAAbL,GAAqB,GAArBA,GAA2B,GAAtC;QACA,MAAMoB,WAAW,GAAGpB,YAAY,CAACK,KAAbL,GAAqB,OAArBA,GAA+B,QAAnD;QACA,MAAMqB,WAAW,GAAGrB,YAAY,CAACK,KAAbL,GAAqB,OAArBA,GAA+B,QAAnD;QAEA,MAAMsB,OAAO,GAAGP,OAAO,CAACG,EAAD,CAAvB;QACA,MAAMK,OAAO,GAAGN,OAAO,CAACC,EAAD,CAAvB;QACA,MAAMM,KAAK,GAAGF,OAAO,GAAGC,OAAVD,GACVP,OAAO,CAACK,WAAD,CAAPL,GAAuBE,OAAO,CAACG,WAAD,CADpBE,GAEVP,OAAO,CAACG,EAAD,CAAPH,GAAcE,OAAO,CAACC,EAAD,CAFzB;QAGA,MAAMO,MAAM,GACVC,IAAI,CAACC,IAALD,CAAUF,KAAVE,IAAmB,CAAnBA,GAAwB1B,YAAY,CAACK,KAAbL,GAAqB,OAArBA,GAA+B,QAAvD0B,GACEA,IAAI,CAACC,IAALD,CAAUF,KAAVE,IAAmB,CAAnBA,GAAwB1B,YAAY,CAACK,KAAbL,GAAqB,MAArBA,GAA8B,KAAtD0B,GACA,QAHJ;QAIA,MAAME,IAAI,GAAGF,IAAI,CAACG,GAALH,CAASF,KAATE,KAAmBA,IAAI,CAACC,IAALD,CAAUF,KAAVE,IAAmB,CAAnBA,GAAuBX,OAAO,CAACM,WAAD,CAA9BK,GAA8CT,OAAO,CAACI,WAAD,CAAxEK,CAAb;QACA,MAAMI,KAAK,GAAGF,IAAI,GAAGF,IAAI,CAACK,GAALL,CAASX,OAAO,CAACM,WAAD,CAAhBK,EAA+BT,OAAO,CAACI,WAAD,CAAtCK,CAArB;QACA,MAAMM,YAAY,GAAGjB,OAAO,CAACM,WAAD,CAAPN,GAAuBE,OAAO,CAACI,WAAD,CAAnD;QAEA,MAAMY,KAAK,GAAG,GAAd;QACApB,MAAM,CAACqB,OAAPrB,CAAe;UACbsB,eAAe,EAAE,CAAChD,KAAD,EAAQ,EAAR,CADJ;UAEbiD,SAAS,EAAE,CACR,YAAWjB,EAAG,IAAGK,KAAM,YAAWL,EAAG,IAAGa,YAAa,GAD7C,EAER,YAAWb,EAAG,IAAGK,KAAK,GAAGS,KAAM,YAAWd,EAAG,IAAG,CAACW,KAAK,GAAG,CAAT,IAAcG,KAAd,GAAsB,CAAE,GAFhE,EAGT,EAHS,CAFE;UAObI,eAAe,EAAEC,KAAK,CAAC,CAAD,CAALA,CAASC,IAATD,CAAcb,MAAda;QAPJ,CAAfzB,EAQG;UACD2B,QAAQ,EAAE,GADT;UAEDC,MAAM,EAAEzE;QAFP,CARH6C;MAYD;IACF;;IAED5C,SAAS,CAAC,MAAM;MACd,MAAM,CAACyE,QAAD,IAAa3E,IAAI,CAACM,KAAD,EAAQ,CAC7B,MAD6B,EAE7B,IAF6B,EAG7B,SAH6B,EAI7B,MAJ6B,EAK7B,SAL6B,EAM7B,aAN6B,EAO7B,YAP6B,EAQ7B,QAR6B,EAS7B,OAT6B,EAU7B,UAV6B,EAW7B,eAX6B,EAY7B,OAZ6B,EAa7B,OAb6B,CAAR,CAAvB;MAgBA;QAAA,OAEQ,MAFR;QAAA,UAGaH,WAHb;QAAA,OAIUgC,MAJV;QAAA,SAKW,CACL,OADK,CALX;QAAA,YAQeD,UAAU,CAACI,KAAXJ,GAAmB,CAAnBA,GAAuB,CAAC,CARvC;QAAA,QASS,KATT;QAAA,iBAUoBxB,MAAM,CAACwB,UAAU,CAACI,KAAZ,CAV1B;QAAA,SAWYhC,KAAK,CAACC,KAXlB;QAAA,YAYeD,KAAK,CAACC,KAAND,GAAc,GAAdA,GAAoBsE,SAZnC;QAAA,WAaY,MAbZ;QAAA,WAcc;MAdd,GAeSD,QAfT,EAgBShD,KAhBT;QAAA,oBAiBuBU;MAjBvB;QAAAlB,gBAmBMO,KAAK,CAACP,OAANO,GAAgBA,KAAK,CAACP,OAANO,EAAhBA,GAAkCpB,KAAK,CAACU,KAnB9C,EAoBM,CAACV,KAAK,CAACgB,UAAP;UAAA,OAEQc,QAFR;UAAA,SAGS,CACL,eADK,EAELN,kBAAkB,CAACQ,KAFd,CAHT;UAAA,SAOUN,iBAAiB,CAACM;QAP5B,QApBN;MAAA;IAjBO,EAATpC;IAmDA,OAAO,EAAP;EACD;;AA7IiC,CAAD,CAA5B","names":["VBtn","IconValue","makeGroupItemProps","makeRouterProps","makeTagProps","makeThemeProps","useTextColor","computed","ref","defineComponent","pick","standardEasing","useRender","VTabsSymbol","VTab","name","props","fixed","Boolean","icon","String","Function","Object","prependIcon","appendIcon","stacked","title","ripple","type","default","color","sliderColor","hideSlider","direction","selectedClass","setup","slots","attrs","_ref","textColorClasses","sliderColorClasses","textColorStyles","sliderColorStyles","isHorizontal","isSelected","rootEl","sliderEl","updateSlider","value","_ref2","prevEl","_rootEl$value","$el","parentElement","_rootEl$value$$el$par","querySelector","nextEl","getComputedStyle","prevBox","getBoundingClientRect","nextBox","xy","XY","rightBottom","widthHeight","prevPos","nextPos","delta","origin","Math","sign","size","abs","scale","max","initialScale","sigma","animate","backgroundColor","transform","transformOrigin","Array","fill","duration","easing","btnProps","undefined"],"sources":["../../../src/components/VTabs/VTab.tsx"],"sourcesContent":["// Styles\nimport './VTab.sass'\n\n// Components\nimport { VBtn } from '@/components/VBtn'\n\n// Composables\nimport { IconValue } from '@/composables/icons'\nimport { makeGroupItemProps } from '@/composables/group'\nimport { makeRouterProps } from '@/composables/router'\nimport { makeTagProps } from '@/composables/tag'\nimport { makeThemeProps } from '@/composables/theme'\nimport { useTextColor } from '@/composables/color'\n\n// Utilities\nimport { computed, ref } from 'vue'\nimport { defineComponent, pick, standardEasing, useRender } from '@/util'\n\n// Types\nimport { VTabsSymbol } from './shared'\nimport type { PropType } from 'vue'\n\nexport const VTab = defineComponent({\n  name: 'VTab',\n\n  props: {\n    fixed: Boolean,\n    icon: [Boolean, String, Function, Object] as PropType<boolean | IconValue>,\n    prependIcon: IconValue,\n    appendIcon: IconValue,\n\n    stacked: Boolean,\n    title: String,\n\n    ripple: {\n      type: Boolean,\n      default: true,\n    },\n    color: String,\n    sliderColor: String,\n    hideSlider: Boolean,\n\n    direction: {\n      type: String as PropType<'horizontal' | 'vertical'>,\n      default: 'horizontal',\n    },\n\n    ...makeTagProps(),\n    ...makeRouterProps(),\n    ...makeGroupItemProps({\n      selectedClass: 'v-tab--selected',\n    }),\n    ...makeThemeProps(),\n  },\n\n  setup (props, { slots, attrs }) {\n    const { textColorClasses: sliderColorClasses, textColorStyles: sliderColorStyles } = useTextColor(props, 'sliderColor')\n    const isHorizontal = computed(() => props.direction === 'horizontal')\n    const isSelected = ref(false)\n\n    const rootEl = ref<VBtn>()\n    const sliderEl = ref<HTMLElement>()\n\n    function updateSlider ({ value }: { value: boolean }) {\n      isSelected.value = value\n\n      if (value) {\n        const prevEl: HTMLElement | undefined = rootEl.value?.$el.parentElement?.querySelector('.v-tab--selected .v-tab__slider')\n        const nextEl = sliderEl.value\n\n        if (!prevEl || !nextEl) return\n\n        const color = getComputedStyle(prevEl).color\n\n        const prevBox = prevEl.getBoundingClientRect()\n        const nextBox = nextEl.getBoundingClientRect()\n\n        const xy = isHorizontal.value ? 'x' : 'y'\n        const XY = isHorizontal.value ? 'X' : 'Y'\n        const rightBottom = isHorizontal.value ? 'right' : 'bottom'\n        const widthHeight = isHorizontal.value ? 'width' : 'height'\n\n        const prevPos = prevBox[xy]\n        const nextPos = nextBox[xy]\n        const delta = prevPos > nextPos\n          ? prevBox[rightBottom] - nextBox[rightBottom]\n          : prevBox[xy] - nextBox[xy]\n        const origin =\n          Math.sign(delta) > 0 ? (isHorizontal.value ? 'right' : 'bottom')\n          : Math.sign(delta) < 0 ? (isHorizontal.value ? 'left' : 'top')\n          : 'center'\n        const size = Math.abs(delta) + (Math.sign(delta) < 0 ? prevBox[widthHeight] : nextBox[widthHeight])\n        const scale = size / Math.max(prevBox[widthHeight], nextBox[widthHeight])\n        const initialScale = prevBox[widthHeight] / nextBox[widthHeight]\n\n        const sigma = 1.5\n        nextEl.animate({\n          backgroundColor: [color, ''],\n          transform: [\n            `translate${XY}(${delta}px) scale${XY}(${initialScale})`,\n            `translate${XY}(${delta / sigma}px) scale${XY}(${(scale - 1) / sigma + 1})`,\n            '',\n          ],\n          transformOrigin: Array(3).fill(origin),\n        }, {\n          duration: 225,\n          easing: standardEasing,\n        })\n      }\n    }\n\n    useRender(() => {\n      const [btnProps] = pick(props, [\n        'href',\n        'to',\n        'replace',\n        'icon',\n        'stacked',\n        'prependIcon',\n        'appendIcon',\n        'ripple',\n        'theme',\n        'disabled',\n        'selectedClass',\n        'value',\n        'color',\n      ])\n\n      return (\n        <VBtn\n          _as=\"VTab\"\n          symbol={ VTabsSymbol }\n          ref={ rootEl }\n          class={[\n            'v-tab',\n          ]}\n          tabindex={ isSelected.value ? 0 : -1 }\n          role=\"tab\"\n          aria-selected={ String(isSelected.value) }\n          block={ props.fixed }\n          maxWidth={ props.fixed ? 300 : undefined }\n          variant=\"text\"\n          rounded={ 0 }\n          { ...btnProps }\n          { ...attrs }\n          onGroup:selected={ updateSlider }\n        >\n          { slots.default ? slots.default() : props.title }\n          { !props.hideSlider && (\n            <div\n              ref={ sliderEl }\n              class={[\n                'v-tab__slider',\n                sliderColorClasses.value,\n              ]}\n              style={ sliderColorStyles.value }\n            />\n          ) }\n        </VBtn>\n      )\n    })\n\n    return {}\n  },\n})\n\nexport type VTab = InstanceType<typeof VTab>\n"]},"metadata":{},"sourceType":"module"}